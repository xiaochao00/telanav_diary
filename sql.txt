关闭 postgres 数据库连接
SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname='UniDB_HERE_NA17Q1_1.0.0.477938-20170207020603-RC' and pid<>pg_backend_pid();

移动数据库 表空间
ALTER DATABASE {database} SET tablespace {tablespace};
ALTER DATABASE "HERE_NA17Q2" SET tablespace ssd1;

查看所有表空间
select spcname, pg_tablespace_location(oid) from pg_tablespace;
查看默认表空间目录
show data_directory;


查询所有数据库 
SELECT datname FROM pg_database;

查询所有schema


查询数据库和tablespace对应关系
SELECT d.datname as "Name",
r.rolname as "Owner",
pg_catalog.pg_encoding_to_char(d.encoding) as "Encoding",
pg_catalog.shobj_description(d.oid, 'pg_database') as "Description",
t.spcname as "Tablespace"
FROM pg_catalog.pg_database d
JOIN pg_catalog.pg_roles r ON d.datdba = r.oid
JOIN pg_catalog.pg_tablespace t on d.dattablespace = t.oid
ORDER BY 1;
